"use strict";!function(e,t,n,r){function o(){var t=e.navigator.userLanguage||e.navigator.language;t.length>2&&(t=t.substring(0,2)),g.locale=t}function i(e){if(g.initCalled)throw new Error("Linguistic has already been instantiated");"string"==typeof e.directory&&(e.directory=-1!==e.directory.indexOf("/",e.directory.length-"/".length)?e.directory:e.directory+"/"),o();var t;for(t in e)g[t]=e[t];g.initCalled=!0}function a(e){if(!g.initCalled)throw new Error("Please, initialize Linguistic using the init method");if("function"!=typeof e)throw new Error("callback must be a function");var t=new XMLHttpRequest,n=g.preferredLocale?g.preferredLocale:g.defaultLocale;t.open("GET",g.directory+n+".json",!0),t.overrideMimeType("application/json; charset=utf-8"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)e(JSON.parse(t.responseText));else{if(!g.preferredLocale)throw new Error("The default locale ["+g.directory+g.defaultLocale+".json] file is not found");g.preferredLocale=null,console.log("The language ["+n+"] is not available, loading "+g.defaultLocale),a(function(t){e(t)})}},t.send()}function u(e,t){if("string"!=typeof e&&!(e instanceof Array))throw new Error("key must be a string or an array");var n=e instanceof Array?!0:!1;a(function(r){if(n){for(var o=e.length,i=o-1,a={};i>=0;i--)a[e[i]]=r[e[i]];t(a)}else t(r[e])})}function c(e,n){var o=e||t,i=n;if(1===arguments.length&&"function"==typeof e&&(o=t,i=e),!d(o))throw new TypeError("Not valid element object "+o);var u=o.querySelectorAll("[data-i18n]"),c=u.length,f=c-1;a(function(e){for(var t={status:"success"};f>=0;f--)for(var n,o=u[f],a=o.getAttribute("data-i18n").trim(),c=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;n=c.exec(a);){var l=n[1].trim(),s=n[2].trim().replace(",","");if(e[s]!==r)if("text"===l)p(o,e[s]);else if("value"===l)h(o,e[s]);else{if("placeholder"!==l)throw new Error("The property: "+l+" is unknown");y(o,e[s])}else{var g="The value: "+s+" does not exist in the JSON file";console.error(g),t={status:"error",message:g}}}"function"==typeof i&&i(t)})}function f(e){if("string"!=typeof e)throw new Error("The language must be a string");e.length>2&&(e=e.substring(0,2)),g.preferredLocale=e.toLowerCase()}function l(){return g.preferredLocale}function s(){return g.locale}var g={defaultLocale:"en",preferredLocale:null,locale:r,directory:"/",initCalled:!1},d=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},p=function(e,t){"textContent"in e?e.textContent=t:e.innerText=t},h=function(e,t){e.value=t},y=function(e,t){e.setAttribute("placeholder",t)},m={};m.init=i,m.getAll=a,m.get=u,m.bind=c,m.setPreference=f,m.getPreference=l,m.getLocale=s,n.i18n=function(e){return"object"==typeof e&&i(e),{getAll:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){return a(e),this}),get:function(e){var t=function(t,n){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e,t){return u(e,t),this}),bind:function(e){var t=function(t,n){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e,t){return c(e,t),this}),setPreference:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){return f(e),this}),getPreference:function(e){var t=function(){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(){return l()}),getLocale:function(e){var t=function(){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(){return s()})}},e.Phonon=n,"function"==typeof define&&define.amd?define(function(){return n.returnGlobalNamespace===!0?n:n.i18n}):"object"==typeof module&&module.exports&&(module.exports=n.returnGlobalNamespace===!0?n:n.i18n)}(window,document,window.Phonon||{});